{"version":3,"sources":["components/GiftList.js","index.js"],"names":["GiftList","state","gifts","newGift","id","person","giftName","giftBeingEdited","errorFlag","isEditing","doInputFieldsHaveContent","_this$state$newGift","_this","hasPerson","length","hasGiftName","setState","captureName","event","Object","objectSpread","target","value","captureGift","nextId","reduce","acc","cur","Math","max","handleSubmitGift","assign","giftIndex","findIndex","gift","concat","toConsumableArray","slice","updateGiftInputFields","find","removeGift","filter","_this2","this","allGifts","map","react_default","a","createElement","key","data-list-item","className","onClick","data-delete-item","submitButtonText","submitButtonClass","type","data-person","placeholder","onChange","data-gift","data-submit","disabled","data-gift-list","Component","ReactDOM","render","src_components_GiftList","document","getElementById"],"mappings":"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","file":"static/js/main.58bf16b1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './GiftList.css';\n\nclass GiftList extends Component {\n  state = {\n    gifts: [],\n    newGift: { id: '', person: '', giftName: ''},\n    giftBeingEdited: {},\n    errorFlag: true,\n    isEditing: false\n  }\n\n  doInputFieldsHaveContent = () => {\n    // console.log('state:', this.state.newGift);\n    const { person, giftName } = this.state.newGift;\n    const hasPerson = person && person.length > 0;\n    const hasGiftName = giftName && giftName.length > 0;\n    this.setState({\n      errorFlag: !hasPerson || !hasGiftName\n    });\n  }\n\n  captureName = (event) =>{\n    this.setState ({\n      newGift: {\n        ...this.state.newGift, \n        person: event.target.value\n      }\n    }, this.doInputFieldsHaveContent)\n  }\n\n  captureGift = (event) =>{\n    this.setState ({\n      newGift: {\n        ...this.state.newGift, \n        giftName: event.target.value\n      }\n    }, this.doInputFieldsHaveContent)\n  }\n\n  nextId = () => {\n    return this.state.gifts.reduce(( acc, cur ) => {\n      return Math.max( acc, cur.id )\n    }, 0) + 1\n  }\n\n  handleSubmitGift = (event) => {\n   let errorFlag = true\n   let newGift;\n   let gifts;\n   \n   if (this.state.isEditing) {\n     newGift = Object.assign({}, this.state.giftBeingEdited, this.state.newGift)\n     let giftIndex = this.state.gifts.findIndex( gift => gift.id === newGift.id)\n     gifts = [...this.state.gifts.slice(0, giftIndex), newGift, ...this.state.gifts.slice(giftIndex + 1)]\n    //find gift and update it.\n    // DO NOT ADD TO GIFTS array! \n   } else {\n    // create new gift and add it to the gifts array\n    newGift = Object.assign({}, this.state.newGift, {id: this.nextId()})\n    gifts = [...this.state.gifts, newGift]\n   }\n \n    newGift = {\n      id: \"\",\n      person: \"\",\n      giftName: \"\"\n    } \n    let isEditing = false;\n\n    this.setState({ gifts, newGift, errorFlag, isEditing })\n  }\n\n  updateGiftInputFields = (id) => {\n    const isEditing = true;\n    const errorFlag = false;\n    const gift = this.state.gifts.find( gift => gift.id === id );\n    const newGift = Object.assign({}, {id: gift.id, person: gift.person, giftName: gift.giftName})\n\n    this.setState({ newGift, errorFlag, isEditing, giftBeingEdited: gift })\n  }\n\n  removeGift = (id) => {\n    const gifts = this.state.gifts.filter( gift => gift.id !== id );\n\n    this.setState({ gifts });\n  }\n  \n  render() {\n    const allGifts = this.state.gifts.map( gift => {\n      return (\n          <div key={gift.id}>\n            <li>\n              <div \n                data-list-item={gift.id}\n                className=\"gift-data\"\n                onClick={() => this.updateGiftInputFields(gift.id)}>\n                {gift.person} | {gift.giftName} \n              </div>\n              <button \n                data-delete-item={gift.id}\n                className=\"delete\" \n                onClick={() => this.removeGift(gift.id)}>\n                Delete\n              </button>\n            </li>\n          </div>\n      )\n    })\n    \n    const submitButtonText = this.state.isEditing ? 'Update' : 'Add Gift';\n    const submitButtonClass = this.state.isEditing ? 'edit-mode' : null;\n\n    return (\n      <div className='container'>\n        <h2>Gift Giver</h2>\n        <input type='text' \n          data-person\n          placeholder=\"name of gift recipient\" \n          value={this.state.newGift.person}\n          onChange={this.captureName}\n        />\n        <input type='text' \n          data-gift\n          placeholder=\"what's the gift?\" \n          value={this.state.newGift.giftName}\n          onChange={this.captureGift}\n        />\n        <button \n          data-submit \n          onClick={this.handleSubmitGift}\n          disabled={this.state.errorFlag}\n          className={submitButtonClass}>\n          {submitButtonText}\n        </button>\n\n        <section>\n          <ul data-gift-list>\n            {allGifts}\n          </ul>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default GiftList;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport GiftList from './components/GiftList';\n\nReactDOM.render(<GiftList />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}